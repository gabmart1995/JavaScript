<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphs plots</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Analisis de datos</h1>
    <p>
        Se necesita representar en un grafico lineal la relacion entre los
        precios de las casas vs el tamano, partiendo de los siguientes datos:
    </p>
    <table border="1">
        <tbody id="prices"></tbody>
    </table>
    <div id="myPlot" style="width:100%;max-width:700px"></div>
    <script>
        (function() {
            const meters = [50,60,70,80,90,100,110,120,130,140,150];
            const prices = [7,8,8,9,9,9,10,11,14,14,15];
            
            const priceTable = document.getElementById('prices');
            if (!priceTable) return;

            priceTable.innerHTML = (`
                <tr>
                    <td>Precio: </td>
                    ${prices.map(price => (`<td>${price}</td>`)).join('')}    
                </tr>
                <tr>
                    <td>Tamano: </td>
                    ${meters.map(meter => (`<td>${meter}</td>`)).join('')}    
                </tr>
            `);

            const data = [{x: meters, y: prices, mode: 'lines'}];
            const layout = {
                xaxis: {range: [40, 160], title: 'Metros cuadrados'},
                yaxis: {range: [5, 16], title: 'Precio en Millones'},
                title: 'Precios de las casas VS. Tamano'
            };

            Plotly.newPlot('myPlot', data, layout);
        })();
    </script>
</body>
</html>